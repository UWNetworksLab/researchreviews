<!DOCTYPE html>
<html lang='en-US'>
<head>
  <title>Research Review</title>
  <meta http-equiv='Content-Type' content='text/html;charset=utf-8' />

  <link rel='stylesheet' type='text/css' href='../css/bootstrap.min.css'/> 
  <link rel='stylesheet' type='text/css' href='../css/rrstyle.css' />

  <script src="node_modules/angular/lib/angular.min.js" type="text/javascript"></script>
  <script src="node_modules/jquery/dist/cdn/jquery-2.1.1.min.js" type="text/javascript"></script>
  <script src="javascript/ui-bootstrap-tpls-0.11.0.min.js" type="text/javascript"></script>
  <script src="node_modules/bootstrap/js/tooltip.js"></script>

  <script type='text/javascript'
      src='node_modules/freedom/freedom.js'
      data-manifest='../manifest.json'>
  {
    "strongIsolation": true,
    "stayLocal": true,
    "debug": false
  }
  </script>
  <!-- for module debugging:
      "portType": "Frame"
  -->
  <script type='text/javascript' src='./javascript/ux.js'></script>
  <script type="text/javascript" src="./javascript/FileSaver.js"></script>

</head>

<body ng-app="researcher_app" ng-controller="main_controller">

  <div id="profile-page" class="page" style="">
    <!--NAV BAR-->
    <nav class="navbar navbar-default navbar-static-top" role="navigation">
      <div class="container-fluid">
        <div class="navbar-header">
          <a class="navbar-brand"><span class="glyphicon glyphicon-pencil"></span></a>
        </div>

        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav"> 
            <li><a href="#" onclick="showPage('papers-page')">My Papers</a></li>
            <li><a href="#" onclick="showPage('reviews-page')"> My Reviews</a></li>
            <li><a href="#" onclick="showPage('alerts-page')">Alerts <span class="badge"></span></a></li>
            <li><a href="#" onclick="showPage('browse-page')">Browse</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li><a href="#" onclick="showPage('profile-page')">{{ username_fixed }}</a></li>
          </ul>
        </div>
    </nav>

    <!--Three Columns--profile, papers, reviews-->
    <div class="col-md-2">
      <div class="sidebar">
        <div class="std-container">
          <img id="profile_pic" height="150" width="150" src="square.png" tooltip="edit my profile" ng-click="editProfile()"/>
          <h3>{{ username }}</h3>
          
          <p id="profile_description"> No description added. </p> 

          <script type='text/ng-template' id="editProfileTemplate.html">
            <div class='modal-container'> 
              <h3>Edit Profile</h3>
              <h4>Edit email: </h4> 
              <div><textarea rows="1" cols="45" placeholder="Example: jdoe@blizi.com"></textarea><div> 
              <h4>Edit description: </h4> 
              <div><textarea rows="4" cols="90" id="profile_description_modal" placeholder="Your description here"></textarea></div> 
              <h4>Upload profile pic: </h4> 
              <div id="file-container">
                <input type="file" accept="image/*" id="addFile"/>
                <button type="button" class="btn btn-success" ng-click="upload()">upload</button>
                <button class="btn btn-danger" ng-click="cancel()">cancel</button>  
              </div>
            </div> 
          </script> 
        </div>
      </div> <!--sidebar-->
    </div> <!--profile-->
    
    <!--papers-->
    <div class="col-md-5">
      <div class="landing-container">
        <h2> My Papers 
          <span id="paper-links">
            <a onclick="showPage('papers-page')" class="btn btn-link">Detailed View</a>
            <button type="button" class="btn btn-link" ng-click="addPaper()">Add Paper</button>
          </span>
        </h2>
        <table class="table table-hover">
          <tbody class="paper-table">
          </tbody>
        </table>
      </div> <!--landing-container-->

    <script type='text/ng-template' id="addPaperTemplate.html">
            <div class='modal-container'> 
              <h3>Add Paper</h3>
              <div><textarea id="add-paper-comments" rows="4" cols="90" placeholder="Add comments"></textarea></div>               
              <h4>Privacy Settings</h4> 

<div class="radio">
  <label>
    <input type="radio" name="optionsRadios" id="addPaperPublic" ng-model = "privacyHeading" value = "Invite reviewers." ng-change="setPublic()"/>
    Public (everyone can see this)
  </label>
</div>
<div class="radio">
  <label>
    <input type="radio" name="optionsRadios" id="addPaperPrivate" ng-model="privacyHeading" value="Select users to view this paper." ng-change="setPrivate()"/>
    Private (only co-authors and invited reviewers can see this)
  </label>
</div>




<div><textarea id="invite-reviewers-comments-2" rows="4" cols="90" placeholder="Add comments"></textarea></div> 
<h4 id = "privacy-heading"> {{privacyHeading}} </h4> 
<input  type="text" 
        id = "reviewer-input-2" 
        ng-model="selected" 
        typeahead="state for state in states | filter:$viewValue | limitTo:10" 
        typeahead-on-select="selectMatch(selected); selected='';" 
        class="form-control">
<hr>

<table> 
  <tr>
    <td class='col-md-10'>Selected users </td> 
    <td class='col-md-2' ng-show = "privatePaper"> Invite to review 
    </td> 
  </tr>

  <tr ng-repeat="alert in alerts"> 
    <td class='col-md-10'> {{alert.msg}} </td> 
    <td class='col-md-1'> <input type="checkbox" ng-show="privatePaper" ng-click="checkAlert(alert.msg)"> </td> 
    <td class='col-md-1'> <span ng-click="deleteUser($index)" class = 'glyphicon glyphicon-remove'></span> </td> 
  </tr> 
</table>


    <div id="file-container">
      <input type="file" accept="application/pdf" id="addFile"/>
      <button type="button" class="btn btn-success" ng-click="upload()">upload</button>
      <button class="btn btn-danger" ng-click="cancel()">cancel</button>  
    </div>
  </div> 
</script> 
    </div>

    <div class="col-md-5">
      <div class="landing-container">
        <h2>
          My Reviews
          <span id="paper-links">
            <a onclick="showPage('reviews-page')" class="btn btn-link">Detailed View</a>
          </span>
        </h2>
        <table class="table table-hover">
          <tbody class= "r-table">
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div id="papers-page" class="page" style="">
    <!--NAV BAR-->
    <nav class="navbar navbar-default navbar-static-top" role="navigation">
      <div class="container-fluid">
        <div class="navbar-header">
          <a class="navbar-brand"><span class="glyphicon glyphicon-pencil"></span></a>
        </div>

        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="#" onclick="showPage('papers-page')">My Papers</a></li>
            <li><a href="#" onclick="showPage('reviews-page')">My Reviews</a></li>
            <li><a href="#" onclick="showPage('alerts-page')">Alerts <span class="badge"></span></a></li>
            <li><a href="#" onclick="showPage('browse-page')">Browse</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li><a href="#" onclick="showPage('profile-page')">{{ username_fixed }}</a></li>
          </ul>
        </div>
    </nav> <!--nav bar-->

    <div class="view-container">


      <!--Two Columns--papers, paper view-->
      <div class="row">
        <div class="col-md-4">
          <div style="margin-bottom:20px; margin-top:20px">
            <button class="btn btn-default" ng-click="addPaper()">add paper</button>
            <script type='text/ng-template' id="addPaperTemplate.html">
            <div class='modal-container'> 
              <h3>Add Paper</h3>
              <div><textarea id="add-paper-comments" rows="4" cols="90" placeholder="Add comments"></textarea></div>               
              <h4>Privacy Settings</h4> 

<div class="radio">
  <label>
    <input type="radio" name="optionsRadios" id="addPaperPublic" ng-model = "privacyHeading" value = "Invite reviewers." ng-change="setPublic()"/>
    Public (everyone can see this)
  </label>
</div>
<div class="radio">
  <label>
    <input type="radio" name="optionsRadios" id="addPaperPrivate" ng-model="privacyHeading" value="Select users to view this paper." ng-change="setPrivate()"/>
    Private (only co-authors and invited reviewers can see this)
  </label>
</div>




<div><textarea id="invite-reviewers-comments-2" rows="4" cols="90" placeholder="Add comments"></textarea></div> 
<h4 id = "privacy-heading"> {{privacyHeading}} </h4> 
<input  type="text" 
        id = "reviewer-input-2" 
        ng-model="selected" 
        typeahead="state for state in states | filter:$viewValue | limitTo:10" 
        typeahead-on-select="selectMatch(selected); selected='';" 
        class="form-control">
<hr>

<table>
  <tr ng-repeat="alert in alerts"> 
    <td class='col-md-10'> {{alert.msg}} </td> 
    <td class='col-md-1'> <input tooltip="invite to review" ng-show="privatePaper" type="checkbox"  ng-click="checkAlert(alert.msg)"> </td> 
    <td class='col-md-1'> <span ng-click="deleteUser($index)" tooltip="remove user" class='glyphicon glyphicon-remove'></span> </td> 
  </tr> 
</table>
    <div id="file-container">
      <input type="file" accept="application/pdf" id="addFile"/>
      <button type="button" class="btn btn-success" ng-click="upload()">upload</button>
      <button class="btn btn-danger" ng-click="cancel()">cancel</button>  
    </div>
  </div> 
</script> 
</div><!--add paper button and modal-->



          <table class="table table-hover">
            <tbody class="paper-table">
            </tbody> 
          </table>
        </div>
      
      <!--papers-->
        <div class="col-md-8">
          <div id="paper-view-container" class="landing-container">
            <h1></h1>
            <div id = "options-and-nav">
              <div class="btn-group" dropdown is-open="status.isopen" ng-controller="drop_controller">
                <button type="button"  id = "options-butt" class="btn btn-default btn-sm dropdown-toggle" ng-disabled="disabled">
                  Options <span class="caret">
                </button>
                <ul class="dropdown-menu" role="menu">
                  <li><a onclick="downloadVersion()">Download This Version</a></li>
                  <li><a ng-click="inviteReviewers()">Invite Reviewers</a></li>
                  <li><a ng-click="addVersion()">Add New Version</a></li>

<script type='text/ng-template' id="inviteReviewersTemplate.html">
            <div class='modal-container'> 
              <h3>Invite Reviewers</h3>
              <div><textarea id="invite-reviewers-comments" rows="4" cols="90" placeholder="Add comments"></textarea></div>               
              <h4>Add reviewers:</h4> 

<h4 id = "privacy-heading"> {{privacyHeading}} </h4> 
<input  type="text" 
        id = "reviewer-input-2" 
        ng-model="selected" 
        typeahead="state for state in states | filter:$viewValue | limitTo:10" 
        typeahead-on-select="selectMatch(selected); selected='';" 
        class="form-control">
<hr>

<table> 
  <tr>
    <td class='col-md-10'>Selected users </td> 
    <td class='col-md-2' ng-show = "privatePaper"> Invite to review 
    </td> 
  </tr>

  <tr ng-repeat="alert in alerts"> 
    <td class='col-md-10'> {{alert.msg}} </td> 
    <td class='col-md-1'> <input type="checkbox" ng-show="privatePaper" ng-click="checkAlert(alert.msg)"> </td> 
    <td class='col-md-1'> <span ng-click="deleteUser($index)" class = 'glyphicon glyphicon-remove'></span> </td> 
  </tr> 
</table>

      <button type="button" class="btn btn-success" ng-click="invite()">invite</button>
      <button class="btn btn-danger" ng-click="cancel()">cancel</button>  
    </div>
  </div> 
</script> 

<script type='text/ng-template' id="addVersionTemplate.html">
            <div class='modal-container'> 
              <h3>Add Version</h3>
              <div><textarea id="add-version-comments" rows="4" cols="90" placeholder="Add comments"></textarea></div>               
              <h4>Privacy Settings</h4> 

<div class="radio">
  <label>
    <input type="radio" name="optionsRadios" id="addPaperPublic" ng-model = "privacyHeading" value = "Invite reviewers." ng-change="setPublic()"/>
    Public (everyone can see this)
  </label>
</div>
<div class="radio">
  <label>
    <input type="radio" name="optionsRadios" id="addPaperPrivate" ng-model="privacyHeading" value="Select users to view this paper." ng-change="setPrivate()"/>
    Private (only co-authors and invited reviewers can see this)
  </label>
</div>




<div><textarea id="invite-reviewers-comments-2" rows="4" cols="90" placeholder="Add comments"></textarea></div> 
<h4 id = "privacy-heading"> {{privacyHeading}} </h4> 
<input  type="text" 
        id = "reviewer-input-2" 
        ng-model="selected" 
        typeahead="state for state in states | filter:$viewValue | limitTo:10" 
        typeahead-on-select="selectMatch(selected); selected='';" 
        class="form-control">
<hr>

<table> 
  <tr>
    <td class='col-md-10'>Selected users </td> 
    <td class='col-md-2' ng-show = "privatePaper"> Invite to review 
    </td> 
  </tr>

  <tr ng-repeat="alert in alerts"> 
    <td class='col-md-10'> {{alert.msg}} </td> 
    <td class='col-md-1'> <input type="checkbox" ng-show="privatePaper" ng-click="checkAlert(alert.msg)"> </td> 
    <td class='col-md-1'> <span ng-click="deleteUser($index)" class = 'glyphicon glyphicon-remove'></span> </td> 
  </tr> 
</table>


    <div id="file-container">
      <input type="file" accept="application/pdf" id="addFile"/>
      <button type="button" class="btn btn-success" ng-click="upload()">upload</button>
      <button class="btn btn-danger" ng-click="cancel()">cancel</button>  
    </div>
  </div> 
</script> 

                  <li><a href="#" onclick="deletePaper()">Delete paper</a></li>
                  <li><a href="#" ng-click="editPrivacy()">Edit Privacy Settings</a></li>

<script type='text/ng-template' id="editPrivacyTemplate.html">
            <div class='modal-container'> 
              <h3>Edit privacy settings</h3>

<div class="radio">
  <label>
    <input type="radio" name="optionsRadios" id="addPaperPublic" ng-model = "privacyHeading" value = "Invite reviewers." ng-change="setPublic()"/>
    Public (everyone can see this)
  </label>
</div>
<div class="radio">
  <label>
    <input type="radio" name="optionsRadios" id="addPaperPrivate" ng-model="privacyHeading" value="Select users to view this paper." ng-change="setPrivate()"/>
    Private (only co-authors and invited reviewers can see this)
  </label>
</div>

    <div id="file-container">
      <button type="button" class="btn btn-success" ng-click="upload()">save</button>
      <button class="btn btn-danger" ng-click="cancel()">cancel</button>  
    </div>
  </div> 
</script> 




                </ul>
              </div>
              <div id="v_btn_group" class="btn-group pull-right">
                <button type="button" class="btn btn-default" onclick="getVersion(-1)">Previous</button>
                <button type="button" class="btn btn-default" onclick="getVersion(1)">Next</button>
              </div>
            </div>
            <h4> Comments </h4>
            <p> </p>
            <br>
            <h4> Reviews for this version </h4>
            <p> </p>
          </div> <!--landing-container-->
        </div> <!--column-->
      </div> <!--row-->
    </div>
  </div> 

  <div id="reviews-page" class="page" style="">
    <!--NAV BAR-->
    <nav class="navbar navbar-default navbar-static-top" role="navigation">
      <div class="container-fluid">
        <div class="navbar-header">
          <a class="navbar-brand"><span class="glyphicon glyphicon-pencil"></span></a>
        </div>

        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li><a href="#" onclick="showPage('papers-page')">My Papers</a></li>
            <li class="active"><a href="#" onclick="showPage('reviews-page')">My Reviews</a></li>
            <li><a href="#" onclick="showPage('alerts-page')">Alerts <span class="badge"></span></a></li>
            <li><a href="#" onclick="showPage('browse-page')">Browse</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li><a href="#" onclick="showPage('profile-page')">{{ username_fixed }} </a></li>
          </ul>
        </div>
    </nav> <!--nav bar-->

    <div class="view-container">
      <!--Two Columns--papers, paper view-->
      <div class="row">
        <div class="col-md-4">
          <div style="margin-bottom:20px; margin-top:20px">
            <div class="btn-group" id="review-btns">
              <button type="button" class="btn btn-default" onclick="getPastReviews()">Past Reviews</button>
              <button type="button" class="btn btn-default active" onclick="getPendingReviews()">Pending Reviews</button>
            </div>
          </div>

          <table class="table table-hover">
            <tbody class="r-table"></tbody> 
          </table>
        </div>
      
      <!--papers-->
        <div class="col-md-8">
          <div id = "review-view-container" class="landing-container">
            <h1>Peer Paper (Version 6/6)</h1>
            <div id = "options-and-nav">
              <div class="btn-group" dropdown is-open="status.isopen" ng-controller="drop_controller">
                <button type="button"  id = "r-options-butt" class="btn btn-default btn-sm dropdown-toggle" ng-disabled="disabled">
                  Options <span class="caret">
                </button>
                <ul class="dropdown-menu" role="menu">
                  <li><a href="#" ng-click="addReview()">Upload Review</a></li>
                  <li><a href="#" onclick="downloadRPaper()">Download this paper</a></li>
            
                  <script type='text/ng-template' id="addReviewTemplate.html">
                    <div class='modal-container'> 
                      <h3>Upload Review</h3>
                      <div><textarea rows="4" cols="90" placeholder="Add comments"></textarea></div>
                      <h4>Privacy Settings</h4> 
                        <div class="radio">
                          <label>
                            <input type="radio" name="optionsRadios" id="optionsRadios1" value="option1" checked>
                            Private (only co-authors and invited reviewers can see this)
                          </label>
                        </div>
                        <div class="radio">
                          <label>
                            <input type="radio" name="optionsRadios" id="optionsRadios2" value="option2">
                            Public (everyone can see this)
                          </label>
                        </div>
                      <div id="file-container">
                        <input type="file" accept="text/plain" id="addFile"/>
                        <button type="button" class="btn btn-success" ng-click="upload()">upload</button>
                        <button class="btn btn-danger" ng-click="cancel()">cancel</button>  
                      </div>
                    </div> 
                  </script> 
                </ul>
              </div>
<!--
              <div class="btn-group pull-right">
                <button type="button" class="btn btn-default">Previous</button>
                <button type="button" class="btn btn-default">Next</button>
              </div>
-->
            </div>
            <h4> Comments </h4>
            <p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam bibendum vel erat a semper. In facilisis sagittis erat et congue. Pellentesque ac justo neque. Etiam tincidunt vulputate vehicula. Vestibulum suscipit massa a orci placerat varius. Fusce quis tincidunt ligula, in aliquet sapien. Aenean sit amet magna eget metus vehicula lobortis. Mauris in tellus purus. Cras id pellentesque massa. Nunc purus metus, dignissim eu justo id, vulputate congue lectus. Sed et interdum risus. Vestibulum malesuada faucibus fermentum. Sed commodo nisi lacus, ut fringilla libero luctus at. Nulla vel imperdiet ligula, at laoreet lorem. Nulla auctor elit luctus mattis vulputate.
            </p>
            <br>
            <h4> Reviews for this version </h4>
            <p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam bibendum vel erat a semper. In facilisis sagittis erat et congue. Pellentesque ac justo neque. Etiam tincidunt vulputate vehicula. Vestibulum suscipit massa a orci placerat varius. Fusce quis tincidunt ligula, in aliquet sapien. Aenean sit amet magna eget metus vehicula lobortis. Mauris in tellus purus. Cras id pellentesque massa. Nunc purus metus, dignissim eu justo id, vulputate congue lectus. Sed et interdum risus. Vestibulum malesuada faucibus fermentum. Sed commodo nisi lacus, ut fringilla libero luctus at. Nulla vel imperdiet ligula, at laoreet lorem. Nulla auctor elit luctus mattis vulputate.
            </p>
          </div> <!--landing-container-->
        </div> <!--column-->
      </div> <!--row-->
    </div>
  </div> 


  <div id="alerts-page" class="page" style="">
    <!--NAV BAR-->
    <nav class="navbar navbar-default navbar-static-top" role="navigation">
      <div class="container-fluid">
        <div class="navbar-header">
          <a class="navbar-brand"><span class="glyphicon glyphicon-pencil"></span></a>
        </div>

        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li><a href="#" onclick="showPage('papers-page')">My Papers</a></li>
            <li><a href="#" onclick="showPage('reviews-page')">My Reviews</a></li>
            <li class="active"><a href="#" onclick="showPage('alerts-page')">Alerts <span class="badge"></span></a></li>
            <li><a href="#" onclick="showPage('browse-page')">Browse</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li><a href="#" onclick="showPage('profile-page')">{{ username_fixed }}</a></li>
          </ul>
        </div>
      </div> 
    </nav> <!--navbar-->

    <!--alerts-->
    <div class="view-container">
        <table id="alerts-table" class="table table-hover">
          <tbody></tbody>
        </table> 
    </div> <!--alerts-container-->
  </div>  


  <div id="browse-page" class="page" style="">
    <!--NAV BAR-->
    <nav class="navbar navbar-default navbar-static-top" role="navigation">
      <div class="container-fluid">
        <div class="navbar-header">
          <a class="navbar-brand"><span class="glyphicon glyphicon-pencil"></span></a>
        </div>

        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li><a href="#" onclick="showPage('papers-page')">My Papers</a></li>
            <li><a href="#" onclick="showPage('reviews-page')">My Reviews</a></li>
            <li><a href="#" onclick="showPage('alerts-page')">Alerts <span class="badge"></span></a></li>
            <li class="active"><a href="#" onclick="showPage('browse-page')">Browse</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li><a href="#" onclick="showPage('profile-page')">{{ username_fixed }}</a></li>
          </ul>
        </div>
    </nav> <!--navbar-->

    <!--browse-papers-->
    <div class="view-container">
      <ol class="breadcrumb">
        <li><a href="#">Home</a></li>
        <li><a href="#">Computer Science</a></li>
        <li class="active">Big Data</li>
      </ol>

        <h2> Browse Papers
          <!-- Sort by -->
        <span class="btn-group" dropdown is-open="status.isopen" ng-controller="drop_controller">
          <button type="button" class="btn btn-default btn-sm dropdown-toggle" ng-disabled="disabled">
            Sort By <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" role="menu">
            <li><a href="#">Title</a></li>
            <li><a href="#">Date</a></li>
            <li><a href="#">Rating</a></li>
          </ul>
        </span>
        <!-- Sort by -->
        </h2>

        <table id="browse-paper-table" class="table table-hover">
          <tbody></tbody>
        </table> 
    </div> <!--browse-container-->
  <div> 
</body>
</html>
